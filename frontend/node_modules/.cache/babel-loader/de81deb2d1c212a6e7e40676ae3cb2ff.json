{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{createProduct,deleteProduct,listProducts}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{PRODUCT_DELETE_RESET}from'../constants/productConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductListScreen(props){var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var navigate=useNavigate();var dispatch=useDispatch();useEffect(function(){if(successDelete){dispatch({type:PRODUCT_DELETE_RESET});}dispatch(listProducts());},[createdProduct,dispatch,navigate,successCreate,successDelete]);var deleteHandler=function deleteHandler(product){if(window.confirm('Are you sure to delete?')){dispatch(deleteProduct(product._id));}};var createHandler=function createHandler(){dispatch(createProduct());};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"primary\",onClick:createHandler,children:\"Create Product\"})]}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(LoadingBox,{}),errorCreate&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorCreate}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BRAND\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return navigate(\"/product/\".concat(product._id,\"/edit\"));},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(product);},children:\"Delete\"})]})]},product._id);})})]})]});}","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useNavigate","createProduct","deleteProduct","listProducts","LoadingBox","MessageBox","PRODUCT_DELETE_RESET","ProductListScreen","props","productList","state","loading","error","products","productCreate","loadingCreate","errorCreate","successCreate","success","createdProduct","product","productDelete","loadingDelete","errorDelete","successDelete","navigate","dispatch","type","deleteHandler","window","confirm","_id","createHandler","map","name","price","category","brand"],"sources":["C:/Users/Franjo/Desktop/Comic Guide/frontend/src/screens/ProductListScreen.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  createProduct,\r\n  deleteProduct,\r\n  listProducts,\r\n} from '../actions/productActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport {\r\n  PRODUCT_DELETE_RESET,\r\n} from '../constants/productConstants';\r\n\r\nexport default function ProductListScreen(props) {\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, error, products } = productList;\r\n\r\n  const productCreate = useSelector((state) => state.productCreate);\r\n  const {\r\n    loading: loadingCreate,\r\n    error: errorCreate,\r\n    success: successCreate,\r\n    product: createdProduct,\r\n  } = productCreate;\r\n\r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = productDelete;\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (successDelete) {\r\n      dispatch({ type: PRODUCT_DELETE_RESET });\r\n    }\r\n    dispatch(listProducts());\r\n  }, [createdProduct, dispatch, navigate, successCreate, successDelete]);\r\n\r\n  const deleteHandler = (product) => {\r\n    if (window.confirm('Are you sure to delete?')) {\r\n      dispatch(deleteProduct(product._id));\r\n    }\r\n    };\r\n\r\n  const createHandler = () => {\r\n    dispatch(createProduct());\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <h1>Products</h1>\r\n        <button type=\"button\" className=\"primary\" onClick={createHandler}>\r\n          Create Product\r\n        </button>\r\n      </div>\r\n\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n      {loadingCreate && <LoadingBox></LoadingBox>}\r\n      {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>NAME</th>\r\n              <th>PRICE</th>\r\n              <th>CATEGORY</th>\r\n              <th>BRAND</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product) => (\r\n              <tr key={product._id}>\r\n                <td>{product._id}</td>\r\n                <td>{product.name}</td>\r\n                <td>{product.price}</td>\r\n                <td>{product.category}</td>\r\n                <td>{product.brand}</td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() =>\r\n                      navigate(`/product/${product._id}/edit`)\r\n                    }\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => deleteHandler(product)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n                  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}